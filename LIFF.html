<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>LIFFアプリ</title>
    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
</head>
<body>
    <h2>LINE連携デモ</h2>
    <button onclick="sendUserData()">カスタムメッセージを受け取る</button>

    <script>
        function sendUserData() {
            liff.init({ liffId: "2006803158-rMJNGV8X" })
                .then(() => liff.getProfile())
                .then(profile => {
                    fetch("https://script.google.com/macros/s/AKfycbzFcaKPPXs-tbKmhp-8XaVgr8KHJmiwM3J6F1jqxLgmzJrKmxsABDWfW3uuZ7jBc-Gw2w/exec", {
                        method: "POST",
                        headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({
                            userId: profile.userId,
                            name: profile.displayName,
                            color: "blue"
                        })
                    });
                });
        }
    </script>
</body>
</html>
